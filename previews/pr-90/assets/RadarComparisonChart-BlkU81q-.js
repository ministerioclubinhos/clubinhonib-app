import{b as C,j as e,P as l,B as s,C as M,d as a,g as c}from"./index-CUqXZ82V.js";import{a as P}from"./hooks-DbXgi7GY.js";import{R as m,T as u,L as h}from"./BarChart-D0sRNF_8.js";import{R as g,P as j,a as f,b,c as p}from"./RadarChart-B4CHg2Jx.js";const $=({filters:y})=>{const r=C(),{data:i,isLoading:R}=P(y);if(R)return e.jsx(l,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(s,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(M,{})})});if(!i)return e.jsx(l,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(a,{color:"error",children:"Erro ao carregar dados"})});const v=[{metric:"PresenÃ§a",Masculino:i.byGender.find(t=>t.gender==="M")?.presenceRate||0,Feminino:i.byGender.find(t=>t.gender==="F")?.presenceRate||0},{metric:"MeditaÃ§Ã£o",Masculino:i.byGender.find(t=>t.gender==="M")?.meditationRate||0,Feminino:i.byGender.find(t=>t.gender==="F")?.meditationRate||0},{metric:"RecitaÃ§Ã£o",Masculino:i.byGender.find(t=>t.gender==="M")?.verseRecitationRate||0,Feminino:i.byGender.find(t=>t.gender==="F")?.verseRecitationRate||0}],d=i.byAgeGroup.slice(0,3),G=[{metric:"PresenÃ§a",...Object.fromEntries(d.map(t=>[t.ageGroup,t.presenceRate]))},{metric:"MeditaÃ§Ã£o",...Object.fromEntries(d.map(t=>[t.ageGroup,t.meditationRate]))},{metric:"RecitaÃ§Ã£o",...Object.fromEntries(d.map(t=>[t.ageGroup,t.verseRecitationRate]))}],x=({active:t,payload:n})=>t&&n&&n.length?e.jsxs(l,{elevation:8,sx:{p:2,background:r.palette.background.paper,border:`1px solid ${r.palette.divider}`,borderRadius:2},children:[e.jsx(a,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:n[0].payload.metric}),n.map((o,k)=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[e.jsx(s,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:o.stroke}}),e.jsxs(a,{variant:"body2",children:[o.name,": ",e.jsxs("strong",{children:[o.value.toFixed(1),"%"]})]})]},k))]}):null;return e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{item:!0,xs:12,md:6,children:e.jsxs(l,{elevation:0,sx:{p:3,borderRadius:3,height:"100%",background:`linear-gradient(135deg, ${r.palette.background.paper} 0%, ${r.palette.info.main}03 100%)`,border:`2px solid ${r.palette.divider}`},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"ðŸ‘¥ ComparaÃ§Ã£o por GÃªnero"}),e.jsx(a,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Performance relativa entre meninos e meninas"}),e.jsx(m,{width:"100%",height:350,children:e.jsxs(g,{data:v,children:[e.jsx(j,{stroke:r.palette.divider}),e.jsx(f,{dataKey:"metric",tick:{fill:r.palette.text.secondary,fontSize:12}}),e.jsx(b,{angle:90,domain:[0,100],tick:{fontSize:11}}),e.jsx(p,{name:"Masculino",dataKey:"Masculino",stroke:r.palette.info.main,fill:r.palette.info.main,fillOpacity:.3,strokeWidth:2}),e.jsx(p,{name:"Feminino",dataKey:"Feminino",stroke:r.palette.secondary.main,fill:r.palette.secondary.main,fillOpacity:.3,strokeWidth:2}),e.jsx(u,{content:e.jsx(x,{})}),e.jsx(h,{})]})}),e.jsx(s,{sx:{mt:2,display:"flex",gap:2,justifyContent:"center"},children:i.byGender.map(t=>e.jsxs(s,{sx:{textAlign:"center"},children:[e.jsx(a,{variant:"caption",color:"text.secondary",children:t.gender==="M"?"Masculino":"Feminino"}),e.jsx(a,{variant:"h6",fontWeight:"bold",color:t.gender==="M"?"info.main":"secondary.main",children:t.total})]},t.gender))})]})}),e.jsx(c,{item:!0,xs:12,md:6,children:e.jsxs(l,{elevation:0,sx:{p:3,borderRadius:3,height:"100%",background:`linear-gradient(135deg, ${r.palette.background.paper} 0%, ${r.palette.success.main}03 100%)`,border:`2px solid ${r.palette.divider}`},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"ðŸŽ‚ ComparaÃ§Ã£o por Faixa EtÃ¡ria"}),e.jsx(a,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Performance por grupos de idade"}),e.jsx(m,{width:"100%",height:350,children:e.jsxs(g,{data:G,children:[e.jsx(j,{stroke:r.palette.divider}),e.jsx(f,{dataKey:"metric",tick:{fill:r.palette.text.secondary,fontSize:12}}),e.jsx(b,{angle:90,domain:[0,100],tick:{fontSize:11}}),d.map((t,n)=>{const o=[r.palette.primary.main,r.palette.success.main,r.palette.warning.main];return e.jsx(p,{name:t.ageGroup,dataKey:t.ageGroup,stroke:o[n],fill:o[n],fillOpacity:.2,strokeWidth:2},t.ageGroup)}),e.jsx(u,{content:e.jsx(x,{})}),e.jsx(h,{})]})}),e.jsx(s,{sx:{mt:2,display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:d.map((t,n)=>{const o=[r.palette.primary.main,r.palette.success.main,r.palette.warning.main];return e.jsxs(s,{sx:{textAlign:"center"},children:[e.jsxs(a,{variant:"caption",color:"text.secondary",children:[t.ageGroup," anos"]}),e.jsx(a,{variant:"h6",fontWeight:"bold",sx:{color:o[n]},children:t.total})]},t.ageGroup)})})]})})]})};export{$ as R};
