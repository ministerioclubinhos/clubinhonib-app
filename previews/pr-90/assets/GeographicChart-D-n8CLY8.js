import{b as f,l as b,j as e,P as x,B as a,C as y,d as r,D as h,F as C,H as S,J as v,g as l,K as z,O as T,Q as R,U as m,V as t,X as k}from"./index-CUqXZ82V.js";import{a as B}from"./hooks-DbXgi7GY.js";import{R as P,B as w,b as W,X as D,Y as G,T as K,L as q,c as j}from"./BarChart-D0sRNF_8.js";const L=({filters:p})=>{const i=f(),o=b(i.breakpoints.down("md")),{data:c,isLoading:g,error:u}=B(p);if(g)return e.jsx(x,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(a,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(y,{})})});if(u||!c)return e.jsx(x,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(r,{color:"error",children:"Erro ao carregar dados geogrÃ¡ficos"})});const d=[...c.byCity].sort((s,n)=>n.total-s.total).slice(0,10);return e.jsxs(x,{elevation:3,sx:{p:{xs:2,sm:3},borderRadius:2},children:[e.jsx(r,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"ðŸ—ºï¸ AnÃ¡lise GeogrÃ¡fica - Top 10 Cidades"}),e.jsx(a,{sx:{height:{xs:300,sm:400},width:"100%",mb:{xs:2,sm:3}},children:e.jsx(P,{width:"100%",height:"100%",children:e.jsxs(w,{data:d,layout:"vertical",children:[e.jsx(W,{strokeDasharray:"3 3",stroke:i.palette.divider}),e.jsx(D,{type:"number",stroke:i.palette.text.secondary,style:{fontSize:{xs:10,sm:12}}}),e.jsx(G,{type:"category",dataKey:"city",stroke:i.palette.text.secondary,style:{fontSize:{xs:10,sm:12}},width:o?80:100}),e.jsx(K,{contentStyle:{backgroundColor:i.palette.background.paper,border:`1px solid ${i.palette.divider}`,borderRadius:8,fontSize:o?"0.75rem":"0.875rem"}}),e.jsx(q,{wrapperStyle:{fontSize:o?"0.75rem":"0.875rem"}}),e.jsx(j,{dataKey:"total",name:"Total de Pagelas",fill:i.palette.primary.main}),e.jsx(j,{dataKey:"uniqueChildren",name:"CrianÃ§as Ãšnicas",fill:i.palette.secondary.main})]})})}),e.jsxs(a,{sx:{mt:{xs:2,sm:3}},children:[e.jsx(r,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Detalhes por Cidade"}),o?e.jsx(h,{spacing:2,children:d.map((s,n)=>e.jsx(C,{elevation:2,sx:{borderRadius:2},children:e.jsx(S,{sx:{p:{xs:1.5,sm:2}},children:e.jsxs(h,{spacing:1.5,children:[e.jsx(a,{children:e.jsxs(r,{variant:"subtitle2",fontWeight:"bold",sx:{fontSize:{xs:"0.95rem",sm:"1.125rem"}},children:[s.city,", ",s.state]})}),e.jsx(v,{}),e.jsxs(l,{container:!0,spacing:1.5,children:[e.jsx(l,{item:!0,xs:6,children:e.jsxs(a,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Total"}),e.jsx(r,{variant:"body2",fontWeight:"bold",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:s.total})]})}),e.jsx(l,{item:!0,xs:6,children:e.jsxs(a,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"CrianÃ§as"}),e.jsx(r,{variant:"body2",fontWeight:"bold",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:s.uniqueChildren})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(a,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"PresenÃ§a"}),e.jsxs(r,{variant:"body2",fontWeight:"bold",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:[s.presenceRate.toFixed(1),"%"]})]})})]})]})})},n))}):e.jsx(z,{children:e.jsxs(T,{size:"small",children:[e.jsx(R,{children:e.jsxs(m,{children:[e.jsx(t,{children:e.jsx("strong",{children:"Cidade"})}),e.jsx(t,{children:e.jsx("strong",{children:"Estado"})}),e.jsx(t,{align:"right",children:e.jsx("strong",{children:"Total"})}),e.jsx(t,{align:"right",children:e.jsx("strong",{children:"CrianÃ§as"})}),e.jsx(t,{align:"right",children:e.jsx("strong",{children:"PresenÃ§a %"})})]})}),e.jsx(k,{children:d.map((s,n)=>e.jsxs(m,{hover:!0,children:[e.jsx(t,{sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:s.city}),e.jsx(t,{sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:s.state}),e.jsx(t,{align:"right",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:s.total}),e.jsx(t,{align:"right",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:s.uniqueChildren}),e.jsxs(t,{align:"right",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:[s.presenceRate.toFixed(1),"%"]})]},n))})]})})]})]})};export{L as G};
