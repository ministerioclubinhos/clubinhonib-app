import{j as a,B as y,g as h,m as x,M as l,y as f,x as v,d as j}from"./index-CUqXZ82V.js";function p(s,r,o){if(!s||s==="custom")return r&&o?{startDate:r,endDate:o}:void 0;const n=new Date,t=new Date(n.getFullYear(),n.getMonth(),n.getDate());switch(s){case"today":{const e=i(t);return{startDate:e,endDate:e}}case"this_week":{const e=t.getDay(),u=e===0?-6:1-e,d=new Date(t);d.setDate(t.getDate()+u);const c=new Date(d);return c.setDate(d.getDate()+6),{startDate:i(d),endDate:i(c)}}case"this_month":{const e=new Date(t.getFullYear(),t.getMonth(),1),u=new Date(t.getFullYear(),t.getMonth()+1,0);return{startDate:i(e),endDate:i(u)}}case"last_7_days":{const e=new Date(t);return e.setDate(t.getDate()-6),{startDate:i(e),endDate:i(t)}}case"last_30_days":{const e=new Date(t);return e.setDate(t.getDate()-29),{startDate:i(e),endDate:i(t)}}case"this_year":{const e=new Date(t.getFullYear(),0,1);return{startDate:i(e),endDate:i(t)}}default:return}}function i(s){const r=s.getFullYear(),o=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0");return`${r}-${o}-${n}`}function _(s,r,o){const n=p(s,r,o);if(!n)return"Todos os dados disponíveis";const{startDate:t,endDate:e}=n;return t===e?`Data: ${g(t)}`:`Período: ${g(t)} a ${g(e)}`}function g(s){const[r,o,n]=s.split("-");return`${n}/${o}/${r}`}const P=({period:s,startDate:r,endDate:o,onPeriodChange:n,onStartDateChange:t,onEndDateChange:e,showDescription:u=!0})=>{const d=s==="custom",c=u?_(s,r,o):null;return a.jsxs(y,{children:[a.jsxs(h,{container:!0,spacing:2,children:[a.jsx(h,{item:!0,xs:12,sm:6,md:4,children:a.jsxs(x,{fullWidth:!0,select:!0,label:"Período",value:s||"",onChange:D=>{const m=D.target.value;n(m||void 0),m&&m!=="custom"&&(t(void 0),e(void 0))},size:"small",InputProps:{startAdornment:a.jsx(f,{sx:{mr:1,color:"text.secondary",fontSize:20}})},children:[a.jsx(l,{value:"",children:"Todos os Períodos"}),a.jsx(l,{value:"today",children:"Hoje"}),a.jsx(l,{value:"this_week",children:"Esta Semana"}),a.jsx(l,{value:"this_month",children:"Este Mês"}),a.jsx(l,{value:"last_7_days",children:"Últimos 7 Dias"}),a.jsx(l,{value:"last_30_days",children:"Últimos 30 Dias"}),a.jsx(l,{value:"this_year",children:"Este Ano"}),a.jsx(l,{value:"custom",children:"Personalizado..."})]})}),d&&a.jsx(h,{item:!0,xs:12,sm:6,md:4,children:a.jsx(x,{fullWidth:!0,type:"date",label:"Data Início",value:r||"",onChange:D=>t(D.target.value||void 0),size:"small",InputLabelProps:{shrink:!0}})}),d&&a.jsx(h,{item:!0,xs:12,sm:6,md:4,children:a.jsx(x,{fullWidth:!0,type:"date",label:"Data Fim",value:o||"",onChange:D=>e(D.target.value||void 0),size:"small",InputLabelProps:{shrink:!0}})})]}),u&&c&&a.jsxs(y,{sx:{mt:1,display:"flex",alignItems:"center",gap:.5},children:[a.jsx(v,{sx:{fontSize:16,color:"info.main"}}),a.jsx(j,{variant:"caption",color:"info.main",children:c})]})]})};export{P,p as g};
