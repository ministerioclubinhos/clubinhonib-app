import{b as M,l as F,j as e,P as n,B as i,C as N,d as a,g as d,f as X,k as L,aj as Y,L as O}from"./index-CUqXZ82V.js";import{b as Q}from"./hooks-DbXgi7GY.js";import{E as U}from"./EmojiEvents-B9lpDZZO.js";import{R as j,b as f,X as g,Y as b,T as u,L as y,c,B as k,d as q}from"./BarChart-D0sRNF_8.js";import{C as H,L as J}from"./ComposedChart-BppMz0VZ.js";import{P as V,a as Z}from"./PieChart-DRsfGSIN.js";const ie=({filters:P})=>{const t=M(),r=F(t.breakpoints.down("md")),{data:l,isLoading:E}=Q(P);if(E)return e.jsx(n,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(i,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(N,{})})});if(!l)return e.jsx(n,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(a,{color:"error",children:"Erro ao carregar dados de decisÃµes"})});const x=l.timeSeries&&Array.isArray(l.timeSeries)?l.timeSeries.map(s=>({date:s.date,total:s.series?.total||0,accepted:s.series?.ACCEPTED||0,reconciled:s.series?.RECONCILED||0})):[],v=x.length>0?x.reduce((s,o)=>s+(o.accepted||0),0):l.byGender?.reduce((s,o)=>s+(o.accepted||0),0)||0,w=x.length>0?x.reduce((s,o)=>s+(o.reconciled||0),0):l.byGender?.reduce((s,o)=>s+(o.reconciled||0),0)||0,m=v+w,z=[{name:"Aceitaram Cristo",value:v,color:t.palette.success.main},{name:"Reconciliados",value:w,color:t.palette.info.main}],W=l.byGender?.map(s=>({name:s.gender==="M"?"Masculino":"Feminino",total:s.total,accepted:s.accepted,reconciled:s.reconciled}))||[],C=l.byAgeGroup?.map(s=>({name:s.ageGroup,total:s.total,accepted:s.accepted,reconciled:s.reconciled}))||[],$=l.byClub?.sort((s,o)=>o.total-s.total).slice(0,10).map(s=>({name:`#${s.clubNumber}`,total:s.total,accepted:s.accepted,reconciled:s.reconciled}))||[],A=l.byParticipationTime?.map(s=>({name:s.timeRange,total:s.total,accepted:s.accepted,reconciled:s.reconciled,avgMonths:s.avgMonthsParticipating}))||[],p=({active:s,payload:o,label:S})=>s&&o&&o.length?e.jsxs(n,{elevation:8,sx:{p:2,background:t.palette.background.paper,border:`1px solid ${t.palette.divider}`,borderRadius:2},children:[e.jsx(a,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:S}),o.map((h,R)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[e.jsx(i,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:h.fill||h.stroke}}),e.jsxs(a,{variant:"body2",children:[h.name,": ",e.jsx("strong",{children:h.value})]})]},R))]}):null,D=Math.PI/180,T=({cx:s,cy:o,midAngle:S,innerRadius:h,outerRadius:R,percent:I})=>{const K=h+(R-h)*.5,B=s+K*Math.cos(-S*D),G=o+K*Math.sin(-S*D);return e.jsx("text",{x:B,y:G,fill:"white",textAnchor:B>s?"start":"end",dominantBaseline:"central",fontWeight:"bold",children:`${(I*100).toFixed(0)}%`})};return e.jsxs(i,{sx:{width:"98%",maxWidth:"98%",overflowX:"hidden",mx:"auto"},children:[e.jsxs(d,{container:!0,spacing:{xs:1.5,sm:2,md:3},sx:{mb:3,width:"100%",maxWidth:"100%"},children:[e.jsx(d,{item:!0,xs:12,sm:6,md:4,sx:{width:"100%",maxWidth:"100%"},children:e.jsx(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,background:`linear-gradient(135deg, ${t.palette.primary.main}15 0%, ${t.palette.primary.main}05 100%)`,border:`2px solid ${t.palette.primary.main}30`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2}},children:[e.jsx(i,{sx:{p:{xs:1,sm:1.5},borderRadius:2,bgcolor:`${t.palette.primary.main}20`},children:e.jsx(U,{sx:{fontSize:{xs:24,sm:32},color:t.palette.primary.main}})}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(a,{variant:"body2",color:"text.secondary",fontWeight:600,sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Total de DecisÃµes"}),e.jsx(a,{variant:"h4",fontWeight:"bold",color:"primary",sx:{fontSize:{xs:"1.5rem",sm:"2rem"},wordBreak:"break-word"},children:m.toLocaleString()})]})]})})}),e.jsx(d,{item:!0,xs:12,sm:6,md:4,sx:{width:"100%",maxWidth:"100%"},children:e.jsx(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,background:`linear-gradient(135deg, ${t.palette.success.main}15 0%, ${t.palette.success.main}05 100%)`,border:`2px solid ${t.palette.success.main}30`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2}},children:[e.jsx(i,{sx:{p:{xs:1,sm:1.5},borderRadius:2,bgcolor:`${t.palette.success.main}20`},children:e.jsx(X,{sx:{fontSize:{xs:24,sm:32},color:t.palette.success.main}})}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(a,{variant:"body2",color:"text.secondary",fontWeight:600,sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Aceitaram Cristo"}),e.jsx(a,{variant:"h4",fontWeight:"bold",color:"success.main",sx:{fontSize:{xs:"1.5rem",sm:"2rem"},wordBreak:"break-word"},children:v.toLocaleString()}),m>0&&e.jsx(L,{label:`${(v/m*100).toFixed(0)}%`,size:"small",color:"success",sx:{mt:.5,fontSize:{xs:"0.65rem",sm:"0.75rem"}}})]})]})})}),e.jsx(d,{item:!0,xs:12,sm:6,md:4,sx:{width:"100%",maxWidth:"100%"},children:e.jsx(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,background:`linear-gradient(135deg, ${t.palette.info.main}15 0%, ${t.palette.info.main}05 100%)`,border:`2px solid ${t.palette.info.main}30`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:{xs:1.5,sm:2}},children:[e.jsx(i,{sx:{p:{xs:1,sm:1.5},borderRadius:2,bgcolor:`${t.palette.info.main}20`},children:e.jsx(Y,{sx:{fontSize:{xs:24,sm:32},color:t.palette.info.main}})}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(a,{variant:"body2",color:"text.secondary",fontWeight:600,sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Reconciliados"}),e.jsx(a,{variant:"h4",fontWeight:"bold",color:"info.main",sx:{fontSize:{xs:"1.5rem",sm:"2rem"},wordBreak:"break-word"},children:w.toLocaleString()}),m>0&&e.jsx(L,{label:`${(w/m*100).toFixed(0)}%`,size:"small",color:"info",sx:{mt:.5,fontSize:{xs:"0.65rem",sm:"0.75rem"}}})]})]})})})]}),e.jsxs(d,{container:!0,spacing:{xs:2,sm:3},sx:{width:"100%",maxWidth:"100%"},children:[x&&x.length>0&&e.jsx(d,{item:!0,xs:12,children:e.jsxs(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,background:`linear-gradient(135deg, ${t.palette.background.paper} 0%, ${t.palette.primary.main}03 100%)`,border:`2px solid ${t.palette.divider}`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"âœï¸ EvoluÃ§Ã£o de DecisÃµes ao Longo do Tempo"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:3,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Acompanhamento temporal das decisÃµes por Cristo"}),e.jsx(j,{width:"100%",height:r?250:300,children:e.jsxs(H,{data:x,margin:{top:20,right:30,left:20,bottom:r?80:60},children:[e.jsx(f,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(g,{dataKey:"date",stroke:t.palette.text.secondary,style:{fontSize:r?10:12},angle:-45,textAnchor:"end",height:r?80:60}),e.jsx(b,{yAxisId:"left",stroke:t.palette.text.secondary,style:{fontSize:r?10:12}}),e.jsx(u,{content:e.jsx(p,{})}),e.jsx(y,{wrapperStyle:{fontSize:r?"0.75rem":"0.875rem"}}),e.jsx(c,{yAxisId:"left",dataKey:"accepted",name:"Aceitaram Cristo",fill:t.palette.success.main,radius:[4,4,0,0]}),e.jsx(c,{yAxisId:"left",dataKey:"reconciled",name:"Reconciliados",fill:t.palette.info.main,radius:[4,4,0,0]}),e.jsx(J,{yAxisId:"left",type:"monotone",dataKey:"total",name:"Total",stroke:t.palette.primary.main,strokeWidth:2,dot:{r:r?3:4}})]})})]})}),W.length>0&&e.jsx(d,{item:!0,xs:12,md:6,children:e.jsxs(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,border:`2px solid ${t.palette.divider}`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"ðŸ‘¥ DecisÃµes por GÃªnero"}),e.jsx(j,{width:"100%",height:r?200:250,children:e.jsxs(k,{data:W,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(f,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(g,{dataKey:"name",stroke:t.palette.text.secondary,style:{fontSize:r?10:12}}),e.jsx(b,{stroke:t.palette.text.secondary,style:{fontSize:r?10:12}}),e.jsx(u,{content:e.jsx(p,{})}),e.jsx(y,{wrapperStyle:{fontSize:r?"0.75rem":"0.875rem"}}),e.jsx(c,{dataKey:"accepted",name:"Aceitaram",fill:t.palette.success.main,radius:[4,4,0,0]}),e.jsx(c,{dataKey:"reconciled",name:"Reconciliados",fill:t.palette.info.main,radius:[4,4,0,0]})]})})]})}),C.length>0&&e.jsx(d,{item:!0,xs:12,md:6,children:e.jsxs(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,border:`2px solid ${t.palette.divider}`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"ðŸŽ‚ DecisÃµes por Faixa EtÃ¡ria"}),e.jsx(j,{width:"100%",height:r?200:250,children:e.jsxs(k,{data:C,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(f,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(g,{dataKey:"name",stroke:t.palette.text.secondary,style:{fontSize:r?10:12}}),e.jsx(b,{stroke:t.palette.text.secondary,style:{fontSize:r?10:12}}),e.jsx(u,{content:e.jsx(p,{})}),e.jsx(y,{wrapperStyle:{fontSize:r?"0.75rem":"0.875rem"}}),e.jsx(c,{dataKey:"accepted",name:"Aceitaram",fill:t.palette.success.main,radius:[4,4,0,0]}),e.jsx(c,{dataKey:"reconciled",name:"Reconciliados",fill:t.palette.info.main,radius:[4,4,0,0]})]})})]})}),$.length>0&&e.jsx(d,{item:!0,xs:12,children:e.jsxs(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,border:`2px solid ${t.palette.divider}`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"ðŸ† Top 10 Clubinhos com Mais DecisÃµes"}),e.jsx(j,{width:"100%",height:r?400:300,children:e.jsxs(k,{data:$,layout:"vertical",margin:{top:20,right:30,left:r?40:60,bottom:5},children:[e.jsx(f,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(g,{type:"number",stroke:t.palette.text.secondary,style:{fontSize:r?10:12}}),e.jsx(b,{dataKey:"name",type:"category",stroke:t.palette.text.secondary,style:{fontSize:r?10:12},width:r?40:50}),e.jsx(u,{content:e.jsx(p,{})}),e.jsx(y,{wrapperStyle:{fontSize:r?"0.75rem":"0.875rem"}}),e.jsx(c,{dataKey:"accepted",name:"Aceitaram",fill:t.palette.success.main,radius:[0,4,4,0]}),e.jsx(c,{dataKey:"reconciled",name:"Reconciliados",fill:t.palette.info.main,radius:[0,4,4,0]})]})})]})}),A.length>0&&e.jsx(d,{item:!0,xs:12,md:6,children:e.jsxs(n,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:3,border:`2px solid ${t.palette.divider}`,width:"100%",maxWidth:"100%",overflow:"hidden"},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"â±ï¸ DecisÃµes por Tempo de ParticipaÃ§Ã£o"}),e.jsx(j,{width:"100%",height:r?200:250,children:e.jsxs(k,{data:A,margin:{top:20,right:30,left:20,bottom:r?60:40},children:[e.jsx(f,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(g,{dataKey:"name",stroke:t.palette.text.secondary,style:{fontSize:r?9:12},angle:r?-45:-15,textAnchor:"end",height:r?80:60}),e.jsx(b,{stroke:t.palette.text.secondary,style:{fontSize:r?10:12}}),e.jsx(u,{content:e.jsx(p,{})}),e.jsx(y,{wrapperStyle:{fontSize:r?"0.75rem":"0.875rem"}}),e.jsx(c,{dataKey:"accepted",name:"Aceitaram",fill:t.palette.success.main,radius:[4,4,0,0]}),e.jsx(c,{dataKey:"reconciled",name:"Reconciliados",fill:t.palette.info.main,radius:[4,4,0,0]})]})})]})}),e.jsx(d,{item:!0,xs:12,md:6,children:e.jsxs(n,{elevation:0,sx:{p:3,borderRadius:3,border:`2px solid ${t.palette.divider}`},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"ðŸ“Š DistribuiÃ§Ã£o Geral"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"ProporÃ§Ã£o de cada tipo de decisÃ£o"}),e.jsx(j,{width:"100%",height:r?200:250,children:e.jsxs(V,{children:[e.jsx(Z,{data:z,cx:"50%",cy:"50%",labelLine:!1,label:T,outerRadius:r?60:80,fill:"#8884d8",dataKey:"value",children:z.map((s,o)=>e.jsx(q,{fill:s.color},`cell-${o}`))}),e.jsx(u,{content:e.jsx(p,{})})]})}),e.jsx(i,{sx:{mt:2},children:z.map(s=>e.jsxs(i,{sx:{mb:1.5},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(i,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:s.color}}),e.jsx(a,{variant:"body2",children:s.name})]}),e.jsx(a,{variant:"body2",fontWeight:"bold",children:s.value.toLocaleString()})]}),e.jsx(O,{variant:"determinate",value:m>0?s.value/m*100:0,sx:{height:8,borderRadius:4,bgcolor:`${s.color}15`,"& .MuiLinearProgress-bar":{borderRadius:4,bgcolor:s.color}}})]},s.name))})]})})]})]})};export{ie as E};
