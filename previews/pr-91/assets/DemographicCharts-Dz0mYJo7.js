import{b as v,j as e,B as c,C as R,d as i,g as o,P as d}from"./index-CUqXZ82V.js";import{a as P}from"./hooks-DbXgi7GY.js";import{R as l,d as T,T as p,B as h,b as m,X as g,Y as j,L as u,c as r}from"./BarChart-D0sRNF_8.js";import{P as K,a as B}from"./PieChart-DRsfGSIN.js";const M=({filters:y})=>{const t=v(),{data:s,isLoading:b,error:f}=P(y);if(b)return e.jsx(c,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(R,{})});if(f||!s)return e.jsx(c,{sx:{py:4,textAlign:"center"},children:e.jsx(i,{color:"error",children:"Erro ao carregar dados demogr√°ficos"})});const k={M:t.palette.info.main,F:t.palette.secondary.main},x=s.byGender.map(a=>({...a,genderLabel:a.gender==="M"?"Masculino":"Feminino"}));return t.palette.primary.main,t.palette.success.main,t.palette.warning.main,t.palette.error.main,e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(d,{elevation:3,sx:{p:3,borderRadius:2,height:"100%"},children:[e.jsx(i,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"üë• Distribui√ß√£o por G√™nero"}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(K,{children:[e.jsx(B,{data:x,dataKey:"total",nameKey:"genderLabel",cx:"50%",cy:"50%",outerRadius:100,label:({genderLabel:a,total:n,percent:C})=>`${a}: ${n} (${(C*100).toFixed(0)}%)`,children:x.map((a,n)=>e.jsx(T,{fill:k[a.gender]},`cell-${n}`))}),e.jsx(p,{contentStyle:{backgroundColor:t.palette.background.paper,border:`1px solid ${t.palette.divider}`,borderRadius:8}})]})})]})}),e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(d,{elevation:3,sx:{p:3,borderRadius:2,height:"100%"},children:[e.jsx(i,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"üéÇ Distribui√ß√£o por Faixa Et√°ria"}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(h,{data:s.byAgeGroup,children:[e.jsx(m,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(g,{dataKey:"ageGroup",stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(j,{stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(p,{contentStyle:{backgroundColor:t.palette.background.paper,border:`1px solid ${t.palette.divider}`,borderRadius:8}}),e.jsx(u,{}),e.jsx(r,{dataKey:"total",name:"Total",fill:t.palette.primary.main}),e.jsx(r,{dataKey:"presenceRate",name:"Taxa de Presen√ßa (%)",fill:t.palette.success.main})]})})]})}),e.jsx(o,{item:!0,xs:12,children:e.jsxs(d,{elevation:3,sx:{p:3,borderRadius:2},children:[e.jsx(i,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"‚è±Ô∏è An√°lise por Tempo de Participa√ß√£o"}),e.jsx(l,{width:"100%",height:300,children:e.jsxs(h,{data:s.byParticipationTime,children:[e.jsx(m,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(g,{dataKey:"timeRange",stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(j,{stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(p,{contentStyle:{backgroundColor:t.palette.background.paper,border:`1px solid ${t.palette.divider}`,borderRadius:8}}),e.jsx(u,{}),e.jsx(r,{dataKey:"total",name:"Total",fill:t.palette.info.main}),e.jsx(r,{dataKey:"presenceRate",name:"Taxa de Presen√ßa (%)",fill:t.palette.success.main}),e.jsx(r,{dataKey:"avgMonthsParticipating",name:"M√©dia de Meses",fill:t.palette.warning.main})]})})]})})]})};export{M as D};
