import{c as le,j as e,b as R,B as r,C as D,d as a,G as ue,e as de,f as $,g,P as c,R as y,r as Z,h as ge,i as be,L as V,k as W,A as je,l as ce,m as U,M as E,n as N,W as ee,o as se,p as ae,q as w,I as O,E as te,s as re,t as ie,v as I,w as G,x as fe,y as ye,N as ve,z as Ce,D as ne,F as Se,H as we,J as We,K as Pe,O as Te,Q as Re,U as oe,V as P,X as $e,Y as ke,Z as ze}from"./index-CUqXZ82V.js";import{a0 as hs,$ as us,a1 as gs,a2 as bs}from"./index-CUqXZ82V.js";import{u as xe,a as me,b as De,c as Ye,d as Me,e as Ae,f as Ee}from"./hooks-DbXgi7GY.js";import{C as Ie,a as Fe,R as _,b as q,X as H,Y as X,T as J,L as pe,B as Le,c as Ne,d as Be}from"./BarChart-D0sRNF_8.js";import{L as B}from"./ComposedChart-BppMz0VZ.js";import{D as fs}from"./DemographicCharts-Dz0mYJo7.js";import{G as vs}from"./GeographicChart-D-n8CLY8.js";import{C as Ss}from"./ClubRankings-IL-rDviE.js";import{T as Ws}from"./TopEngagedChildren-BCyI7vYr.js";import{T as K}from"./TrendingDown-C_c6g0Ah.js";import{A as Ts,C as Rs,W as $s}from"./WeekMonthSummary-DqVlge36.js";import{R as zs}from"./RadarComparisonChart-BlkU81q-.js";import{E as Ys}from"./EnhancedDecisionsChart-40tQW4X1.js";import{E as Ue}from"./EmojiEvents-B9lpDZZO.js";import{R as As}from"./RetentionFunnelChart-CibkGALL.js";import{A as Is}from"./ActivitiesComparisonChart-BsfXdLEE.js";import{C as Ls}from"./ChildrenListView-ACGdFMtD.js";import{C as Bs}from"./ClubsListView-B5x0NRKZ.js";import{T as Os}from"./TeachersListView-C77sw5ZP.js";import{P as Gs}from"./PeriodFilter-DpH4Af4z.js";import"./ActivePoints-SWc7igUR.js";import"./PieChart-DRsfGSIN.js";import"./PolarChart-R6wet7eD.js";import"./RadarChart-B4CHg2Jx.js";const Oe=le(e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),Qe=le(e.jsx("path",{d:"m22 12-4-4v3H3v2h15v3z"}),"TrendingFlat"),Ge=({title:s,value:t,icon:d,color:x})=>(R(),e.jsx(c,{elevation:3,sx:{p:3,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:2,background:`linear-gradient(135deg, ${x}15 0%, ${x}05 100%)`,border:`1px solid ${x}30`},children:e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(r,{children:[e.jsx(a,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:s}),e.jsx(a,{variant:"h4",fontWeight:"bold",color:x,children:t})]}),e.jsx(r,{sx:{p:1.5,borderRadius:2,bgcolor:`${x}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:y.cloneElement(d,{sx:{fontSize:32,color:x}})})]})})),is=()=>{const s=R(),{data:t,isLoading:d,error:x}=xe();if(d)return e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(D,{})});if(x||!t)return e.jsx(r,{sx:{py:4,textAlign:"center"},children:e.jsx(a,{color:"error",children:"Erro ao carregar dados gerais"})});const b=[{title:"Total de CrianÃ§as",value:t.summary.totalChildren,icon:e.jsx(Oe,{}),color:s.palette.primary.main},{title:"Total de Clubinhos",value:t.summary.totalClubs,icon:e.jsx(ue,{}),color:s.palette.secondary.main},{title:"Total de Professores",value:t.summary.totalTeachers,icon:e.jsx(de,{}),color:s.palette.success.main},{title:"Ativos Este MÃªs",value:t.summary.activeChildrenThisMonth,icon:e.jsx($,{}),color:s.palette.info.main}];return e.jsx(g,{container:!0,spacing:3,children:b.map((o,u)=>e.jsx(g,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Ge,{...o})},u))})};var Ke=["axis"],he=Z.forwardRef((s,t)=>Z.createElement(Ie,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ke,tooltipPayloadSearcher:Fe,categoricalChartProps:s,ref:t}));const ns=({filters:s})=>{const t=R(),{data:d,isLoading:x,error:b}=me(s),[o,u]=y.useState(["total","presence"]);if(x)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(D,{})})});if(b||!d)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(a,{color:"error",children:"Erro ao carregar dados de pagelas"})});const h=d.timeSeries.total.map((v,C)=>({date:v.date,total:v.value,presence:d.timeSeries.presence[C]?.value||0,meditation:d.timeSeries.meditation[C]?.value||0,verseRecitation:d.timeSeries.verseRecitation[C]?.value||0})),n=(v,C)=>{C.length>0&&u(C)},f={total:{label:"Total",color:t.palette.primary.main},presence:{label:"PresenÃ§a",color:t.palette.success.main},meditation:{label:"MeditaÃ§Ã£o",color:t.palette.info.main},verseRecitation:{label:"RecitaÃ§Ã£o",color:t.palette.secondary.main}};return e.jsxs(c,{elevation:3,sx:{p:3,borderRadius:2},children:[e.jsxs(r,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",children:"ðŸ“Š EvoluÃ§Ã£o de Pagelas ao Longo do Tempo"}),e.jsx(ge,{value:o,onChange:n,"aria-label":"sÃ©ries de dados",size:"small",children:Object.entries(f).map(([v,C])=>e.jsx(be,{value:v,"aria-label":C.label,children:C.label},v))})]}),e.jsx(_,{width:"100%",height:400,children:e.jsxs(he,{data:h,children:[e.jsx(q,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(H,{dataKey:"date",stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(X,{stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(J,{contentStyle:{backgroundColor:t.palette.background.paper,border:`1px solid ${t.palette.divider}`,borderRadius:8}}),e.jsx(pe,{}),o.map(v=>e.jsx(B,{type:"monotone",dataKey:v,name:f[v].label,stroke:f[v].color,strokeWidth:2,dot:{r:4},activeDot:{r:6}},v))]})})]})},os=({filters:s})=>{const t=R(),{data:d,isLoading:x,error:b}=De(s);if(x)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(D,{})})});if(b||!d)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(a,{color:"error",children:"Erro ao carregar dados de decisÃµes"})});const o=d.timeSeries.map(u=>({date:u.date,total:u.series.total,accepted:u.series.ACCEPTED||0,reconciled:u.series.RECONCILED||0}));return e.jsxs(c,{elevation:3,sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"âœï¸ DecisÃµes por Cristo ao Longo do Tempo"}),e.jsx(_,{width:"100%",height:400,children:e.jsxs(he,{data:o,children:[e.jsx(q,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(H,{dataKey:"date",stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(X,{stroke:t.palette.text.secondary,style:{fontSize:12}}),e.jsx(J,{contentStyle:{backgroundColor:t.palette.background.paper,border:`1px solid ${t.palette.divider}`,borderRadius:8}}),e.jsx(pe,{}),e.jsx(B,{type:"monotone",dataKey:"total",name:"Total",stroke:t.palette.primary.main,strokeWidth:2,dot:{r:4},activeDot:{r:6}}),e.jsx(B,{type:"monotone",dataKey:"accepted",name:"Aceitaram",stroke:t.palette.success.main,strokeWidth:2,dot:{r:4}}),e.jsx(B,{type:"monotone",dataKey:"reconciled",name:"Reconciliados",stroke:t.palette.info.main,strokeWidth:2,dot:{r:4}})]})}),e.jsxs(r,{sx:{mt:3,display:"flex",gap:3,flexWrap:"wrap"},children:[e.jsxs(r,{children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Total de DecisÃµes"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"primary",children:o.reduce((u,h)=>u+h.total,0)})]}),e.jsxs(r,{children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Aceitaram Cristo"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"success.main",children:o.reduce((u,h)=>u+h.accepted,0)})]}),e.jsxs(r,{children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Reconciliados"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"info.main",children:o.reduce((u,h)=>u+h.reconciled,0)})]})]})]})},Ve=({title:s,currentValue:t,previousValue:d,icon:x,suffix:b="",color:o})=>{const u=R(),n=(()=>{if(!d)return null;const f=(t-d)/d*100;return Math.abs(f)<1?{icon:e.jsx(Qe,{}),color:u.palette.grey[500],text:"EstÃ¡vel"}:f>0?{icon:e.jsx($,{}),color:u.palette.success.main,text:`+${f.toFixed(1)}%`}:{icon:e.jsx(K,{}),color:u.palette.error.main,text:`${f.toFixed(1)}%`}})();return e.jsxs(c,{elevation:0,sx:{p:{xs:1.5,sm:2},height:"100%",background:`linear-gradient(135deg, ${o}08 0%, ${o}03 100%)`,border:`2px solid ${o}20`,borderRadius:3,position:"relative",overflow:"hidden",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:`0 8px 24px ${o}30`,borderColor:`${o}40`}},children:[e.jsx(r,{sx:{position:"absolute",top:-20,right:-20,width:{xs:60,sm:100},height:{xs:60,sm:100},borderRadius:"50%",background:`radial-gradient(circle, ${o}15 0%, transparent 70%)`}}),e.jsxs(r,{sx:{position:"relative",zIndex:1},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:{xs:1,sm:1.5}},children:[e.jsx(a,{variant:"body2",color:"text.secondary",fontWeight:600,sx:{textTransform:"uppercase",letterSpacing:1,fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:s}),e.jsx(r,{sx:{p:{xs:.75,sm:1},borderRadius:2,bgcolor:`${o}15`,display:"flex",alignItems:"center",justifyContent:"center","& svg":{fontSize:{xs:18,sm:24},color:o}},children:x})]}),e.jsxs(a,{variant:"h4",fontWeight:"bold",sx:{background:`linear-gradient(135deg, ${o} 0%, ${o}CC 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",mb:{xs:.5,sm:1},fontSize:{xs:"1.5rem",sm:"2rem"}},children:[t.toLocaleString("pt-BR"),b&&e.jsx(a,{component:"span",variant:"h6",sx:{ml:.5,opacity:.7,fontSize:{xs:"1rem",sm:"1.25rem"}},children:b})]}),n&&e.jsx(W,{icon:n.icon,label:n.text,size:"small",sx:{bgcolor:`${n.color}15`,color:n.color,fontWeight:600,fontSize:{xs:"0.65rem",sm:"0.7rem"},height:{xs:20,sm:24},"& .MuiChip-icon":{color:n.color}}})]})]})},ls=()=>{const s=R(),{data:t,isLoading:d}=xe();if(d||!t)return null;const x=[{title:"Total de CrianÃ§as",currentValue:t.summary.totalChildren,icon:e.jsx($,{}),color:s.palette.primary.main},{title:"Clubinhos Ativos",currentValue:t.summary.totalClubs,icon:e.jsx($,{}),color:s.palette.secondary.main},{title:"Professores",currentValue:t.summary.totalTeachers,icon:e.jsx($,{}),color:s.palette.success.main},{title:"Ativos Este MÃªs",currentValue:t.summary.activeChildrenThisMonth,previousValue:t.summary.totalChildren,icon:e.jsx($,{}),color:s.palette.info.main},...t.summary.inactiveChildren!==void 0?[{title:"CrianÃ§as Desativadas",currentValue:t.summary.inactiveChildren,icon:e.jsx(K,{}),color:s.palette.warning.main}]:[],...t.summary.inactiveClubs!==void 0?[{title:"Clubinhos Desativados",currentValue:t.summary.inactiveClubs,icon:e.jsx(K,{}),color:s.palette.error.main}]:[]],b=t.summary.activeChildrenThisMonth/t.summary.totalChildren*100;return e.jsxs(r,{children:[e.jsx(g,{container:!0,spacing:{xs:1,sm:1.5},children:x.map((o,u)=>e.jsx(g,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Ve,{...o})},u))}),e.jsxs(c,{elevation:0,sx:{p:{xs:2,sm:3},mt:{xs:2,sm:3},borderRadius:3,background:`linear-gradient(135deg, ${s.palette.primary.main}08 0%, ${s.palette.secondary.main}08 100%)`,border:`2px solid ${s.palette.divider}`},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,flexWrap:"wrap",gap:1},children:[e.jsx(a,{variant:"body2",fontWeight:600,color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Taxa de Engajamento Mensal"}),e.jsxs(a,{variant:"h6",fontWeight:"bold",color:"primary",sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:[b.toFixed(1),"%"]})]}),e.jsx(V,{variant:"determinate",value:b,sx:{height:12,borderRadius:6,bgcolor:`${s.palette.primary.main}10`,"& .MuiLinearProgress-bar":{borderRadius:6,background:`linear-gradient(90deg, ${s.palette.primary.main} 0%, ${s.palette.secondary.main} 100%)`}}})]})]})},ds=({filters:s})=>{const t=R(),{data:d,isLoading:x}=me(s);if(x)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(D,{})})});if(!d||!d.byTeacher||d.byTeacher.length===0)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(a,{color:"text.secondary",children:"Sem dados de professores para o perÃ­odo selecionado"})});const b=[...d.byTeacher].sort((h,n)=>n.total-h.total).slice(0,10),o=h=>{const n=h.split(" ");return n.length>=2?`${n[0][0]}${n[1][0]}`.toUpperCase():h.substring(0,2).toUpperCase()},u=({active:h,payload:n})=>{if(h&&n&&n.length){const f=n[0].payload;return e.jsxs(c,{elevation:8,sx:{p:2,background:t.palette.background.paper,border:`1px solid ${t.palette.divider}`,borderRadius:2,minWidth:200},children:[e.jsx(a,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:f.teacherName}),e.jsxs(a,{variant:"body2",children:["Total de Pagelas: ",e.jsx("strong",{children:f.total})]}),f.presenceRate!==void 0&&e.jsxs(a,{variant:"body2",children:["Taxa de PresenÃ§a: ",e.jsxs("strong",{children:[f.presenceRate.toFixed(1),"%"]})]})]})}return null};return e.jsxs(c,{elevation:0,sx:{p:3,borderRadius:3,background:`linear-gradient(135deg, ${t.palette.background.paper} 0%, ${t.palette.success.main}03 100%)`,border:`2px solid ${t.palette.divider}`},children:[e.jsxs(r,{sx:{mb:3},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1},children:[e.jsx(de,{sx:{fontSize:28,color:t.palette.success.main}}),e.jsx(a,{variant:"h5",fontWeight:"bold",children:"ðŸ‘¨â€ðŸ« Performance dos Professores"})]}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Top 10 professores por nÃºmero de pagelas registradas"})]}),e.jsx(_,{width:"100%",height:350,children:e.jsxs(Le,{data:b,children:[e.jsx(q,{strokeDasharray:"3 3",stroke:t.palette.divider}),e.jsx(H,{dataKey:"teacherName",stroke:t.palette.text.secondary,angle:-45,textAnchor:"end",height:100,style:{fontSize:11}}),e.jsx(X,{stroke:t.palette.text.secondary}),e.jsx(J,{content:e.jsx(u,{})}),e.jsx(Ne,{dataKey:"total",name:"Total de Pagelas",radius:[8,8,0,0],children:b.map((h,n)=>e.jsx(Be,{fill:n===0?t.palette.warning.main:n===1?t.palette.info.main:t.palette.success.main},`cell-${n}`))})]})}),e.jsxs(r,{sx:{mt:3},children:[e.jsx(a,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Top 5 Professores Detalhados"}),e.jsx(g,{container:!0,spacing:2,children:b.slice(0,5).map((h,n)=>e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(c,{elevation:0,sx:{p:2,borderRadius:2,background:n===0?`${t.palette.warning.main}08`:t.palette.background.default,border:`1px solid ${t.palette.divider}`,transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:2}},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(je,{sx:{width:48,height:48,bgcolor:n===0?t.palette.warning.main:n===1?t.palette.info.main:t.palette.success.main,fontWeight:"bold"},children:n===0?e.jsx(Ue,{}):o(h.teacherName)}),e.jsxs(r,{sx:{flex:1},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[e.jsx(a,{variant:"subtitle1",fontWeight:"bold",children:h.teacherName}),n<3&&e.jsx(W,{label:`#${n+1}`,size:"small",color:n===0?"warning":n===1?"info":"success"})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1},children:[e.jsx(W,{label:`${h.total} pagelas`,size:"small",variant:"outlined",icon:e.jsx($,{})}),h.presenceRate!==void 0&&e.jsxs(a,{variant:"caption",color:"text.secondary",children:[h.presenceRate.toFixed(1),"% presenÃ§a"]})]}),e.jsx(V,{variant:"determinate",value:Math.min(h.total/b[0].total*100,100),sx:{height:6,borderRadius:3,bgcolor:`${t.palette.success.main}15`,"& .MuiLinearProgress-bar":{borderRadius:3,bgcolor:n===0?t.palette.warning.main:n===1?t.palette.info.main:t.palette.success.main}}})]})]})})},h.teacherId))})]}),e.jsx(r,{sx:{mt:3,p:2,bgcolor:"rgba(76, 175, 80, 0.08)",borderRadius:2},children:e.jsxs(g,{container:!0,spacing:2,children:[e.jsxs(g,{item:!0,xs:12,sm:4,children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Total de Professores"}),e.jsx(a,{variant:"h6",fontWeight:"bold",color:"success.main",children:d.byTeacher.length})]}),e.jsxs(g,{item:!0,xs:12,sm:4,children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"MÃ©dia de Pagelas"}),e.jsx(a,{variant:"h6",fontWeight:"bold",color:"success.main",children:(d.byTeacher.reduce((h,n)=>h+n.total,0)/d.byTeacher.length).toFixed(0)})]}),e.jsxs(g,{item:!0,xs:12,sm:4,children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"Total Geral"}),e.jsx(a,{variant:"h6",fontWeight:"bold",color:"success.main",children:d.byTeacher.reduce((h,n)=>h+n.total,0)})]})]})})]})},_e={MONDAY:"Segunda-feira",TUESDAY:"TerÃ§a-feira",WEDNESDAY:"Quarta-feira",THURSDAY:"Quinta-feira",FRIDAY:"Sexta-feira",SATURDAY:"SÃ¡bado",SUNDAY:"Domingo",monday:"Segunda-feira",tuesday:"TerÃ§a-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"SÃ¡bado",sunday:"Domingo"},cs=()=>{const s=R(),t=ce(s.breakpoints.down("md")),d=new Date().getFullYear(),[x,b]=y.useState(""),[o,u]=y.useState(d),[h,n]=y.useState(1),[f,v]=y.useState(20),[C,M]=y.useState(1),[m,Q]=y.useState(!0),[k,F]=y.useState(!1),{data:T}=Ye({page:1,limit:100}),{data:p,isLoading:A}=Me(x,{year:o,page:h,limit:f});y.useEffect(()=>{!x&&T?.clubs&&T.clubs.length>0&&b(T.clubs[0].clubId)},[T,x]),y.useEffect(()=>{n(1),M(1)},[x,o]);const Y=i=>{switch(i){case"critical":return s.palette.error.main;case"warning":return s.palette.warning.main;default:return s.palette.info.main}},l=i=>{switch(i){case"critical":return e.jsx(I,{});case"warning":return e.jsx(ee,{});default:return e.jsx(fe,{})}},j=i=>{switch(i){case"critical":return"CrÃ­tico";case"warning":return"AtenÃ§Ã£o";case"info":return"InformaÃ§Ã£o";default:return i}},L=i=>({missing_weeks:"Semanas Faltantes",low_attendance:"Baixa FrequÃªncia",no_pagela:"Sem Pagela",incomplete_pagela:"Pagela Incompleta",exception:"ExceÃ§Ã£o",out_of_period:"Fora do PerÃ­odo"})[i.toLowerCase()]||i.replace(/_/g," ").replace(/\b\w/g,z=>z.toUpperCase());return A?e.jsx(c,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(D,{})})}):e.jsxs(r,{children:[e.jsx(c,{elevation:0,sx:{p:{xs:1.5,sm:2},mb:{xs:2,sm:3},borderRadius:2,border:`1px solid ${s.palette.divider}`},children:e.jsxs(g,{container:!0,spacing:{xs:1.5,sm:2},alignItems:"center",children:[e.jsx(g,{item:!0,xs:12,md:6,children:e.jsx(U,{fullWidth:!0,select:!0,label:"Selecione um Clubinho",value:x,onChange:i=>b(i.target.value),size:"small",children:T?.clubs&&T.clubs.length>0?T.clubs.map(i=>e.jsxs(E,{value:i.clubId,children:["Clubinho #",i.clubNumber," - ",_e[i.weekday]||i.weekday," - ",i.address.city]},i.clubId)):e.jsx(E,{value:"",disabled:!0,children:"Nenhum clubinho disponÃ­vel"})})}),e.jsx(g,{item:!0,xs:12,md:3,children:e.jsx(U,{fullWidth:!0,select:!0,label:"Ano",value:o,onChange:i=>u(Number(i.target.value)),size:"small",children:[d,d-1,d-2].map(i=>e.jsx(E,{value:i,children:i},i))})})]})}),x?p?e.jsxs(e.Fragment,{children:[e.jsxs(g,{container:!0,spacing:{xs:1,sm:1.5},sx:{mb:{xs:2,sm:3}},children:[e.jsx(g,{item:!0,xs:6,sm:3,children:e.jsxs(c,{elevation:0,sx:{p:{xs:1.5,sm:2},borderRadius:2,background:`linear-gradient(135deg, ${s.palette.success.main}15 0%, ${s.palette.success.main}05 100%)`,border:`2px solid ${s.palette.success.main}30`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Taxa de FrequÃªncia"}),e.jsxs(a,{variant:"h5",fontWeight:"bold",color:"success.main",sx:{fontSize:{xs:"1.5rem",sm:"2rem"},mb:.5},children:[p.attendance.attendanceRate.toFixed(1),"%"]}),e.jsx(W,{icon:e.jsx(N,{}),label:`${p.attendance.weeksWithPagela}/${p.attendance.weeksExpected}`,size:"small",color:"success",sx:{mt:{xs:.5,sm:1},fontSize:{xs:"0.65rem",sm:"0.7rem"},height:{xs:20,sm:24},"& .MuiChip-icon":{fontSize:{xs:14,sm:16}}}})]})}),e.jsx(g,{item:!0,xs:6,sm:3,children:e.jsxs(c,{elevation:0,sx:{p:{xs:1.5,sm:2},borderRadius:2,background:`linear-gradient(135deg, ${s.palette.warning.main}15 0%, ${s.palette.warning.main}05 100%)`,border:`2px solid ${s.palette.warning.main}30`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Semanas Faltantes"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"warning.main",sx:{fontSize:{xs:"1.5rem",sm:"2rem"},mb:.5},children:p.attendance.weeksMissing}),e.jsx(W,{icon:e.jsx(ee,{}),label:p.attendance.weeksMissing===0?"Nenhuma":"AtenÃ§Ã£o!",size:"small",color:p.attendance.weeksMissing===0?"success":"warning",sx:{mt:{xs:.5,sm:1},fontSize:{xs:"0.65rem",sm:"0.7rem"},height:{xs:20,sm:24},"& .MuiChip-icon":{fontSize:{xs:14,sm:16}}}})]})}),e.jsx(g,{item:!0,xs:6,sm:3,children:e.jsxs(c,{elevation:0,sx:{p:{xs:1.5,sm:2},borderRadius:2,background:`linear-gradient(135deg, ${s.palette.primary.main}15 0%, ${s.palette.primary.main}05 100%)`,border:`2px solid ${s.palette.primary.main}30`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"SequÃªncia Atual"}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1},mb:.5},children:[e.jsx(a,{variant:"h5",fontWeight:"bold",color:"primary",sx:{fontSize:{xs:"1.5rem",sm:"2rem"}},children:p.attendance.consecutiveWeeksPresent}),e.jsx($,{sx:{color:s.palette.success.main,fontSize:{xs:18,sm:20}}})]}),e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"semanas consecutivas"})]})}),e.jsx(g,{item:!0,xs:6,sm:3,children:e.jsxs(c,{elevation:0,sx:{p:{xs:1.5,sm:2},borderRadius:2,background:`linear-gradient(135deg, ${s.palette.info.main}15 0%, ${s.palette.info.main}05 100%)`,border:`2px solid ${s.palette.info.main}30`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"PerÃ­odo"}),e.jsxs(a,{variant:"h6",fontWeight:"bold",color:"info.main",sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"},mb:.5},children:[p.period.activeWeeks," semanas"]}),e.jsxs(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:["de ",p.period.totalWeeks," do ano"]})]})})]}),p.note&&e.jsxs(se,{severity:"warning",sx:{mb:{xs:2,sm:3},fontSize:{xs:"0.875rem",sm:"1rem"}},children:[e.jsx(ae,{sx:{fontWeight:"bold",fontSize:{xs:"0.875rem",sm:"1rem"}},children:"âš ï¸ Aviso"}),p.note]}),p.alerts&&p.alerts.length>0&&e.jsx(r,{sx:{mb:{xs:2,sm:3}},children:e.jsx(g,{container:!0,spacing:{xs:1,sm:1.5},children:p.alerts.map((i,S)=>e.jsx(g,{item:!0,xs:12,sm:6,children:e.jsxs(se,{severity:i.severity,icon:l(i.severity),sx:{fontSize:{xs:"0.875rem",sm:"1rem"},height:"100%"},children:[e.jsx(ae,{sx:{fontWeight:"bold",fontSize:{xs:"0.875rem",sm:"1rem"}},children:L(i.type)}),i.message]})},S))})}),e.jsxs(c,{elevation:0,sx:{borderRadius:3,background:`linear-gradient(135deg, ${s.palette.background.paper} 0%, ${s.palette.primary.main}03 100%)`,border:`2px solid ${s.palette.divider}`,overflow:"hidden"},children:[e.jsxs(r,{sx:{p:{xs:1.5,sm:2},display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",bgcolor:s.palette.grey[50],borderBottom:m?`1px solid ${s.palette.divider}`:"none"},onClick:()=>Q(!m),children:[e.jsxs(r,{children:[e.jsxs(a,{variant:"h6",fontWeight:"bold",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:["ðŸ“… Timeline Semanal - ",o]}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[w(p.period.startDate).format("DD/MM/YYYY")," atÃ©"," ",w(p.period.endDate).format("DD/MM/YYYY")]})]}),e.jsx(O,{size:"small",children:m?e.jsx(te,{}):e.jsx(re,{})})]}),e.jsx(ie,{in:m,children:e.jsxs(r,{sx:{p:{xs:1.5,sm:2,md:3}},children:[e.jsx(r,{sx:{display:"grid",gridTemplateColumns:t?"repeat(auto-fill, minmax(45px, 1fr))":"repeat(auto-fill, minmax(55px, 1fr))",gap:{xs:.5,sm:1}},children:p.timeline.map(i=>e.jsxs(r,{sx:{p:{xs:.5,sm:1},borderRadius:1,textAlign:"center",bgcolor:i.hasPagela?`${s.palette.success.main}20`:`${s.palette.error.main}20`,border:`2px solid ${i.hasPagela?s.palette.success.main:s.palette.error.main}`,cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"scale(1.05)",boxShadow:2}},children:[e.jsxs(a,{variant:"caption",fontWeight:"bold",display:"block",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"}},children:["S",i.week]}),i.hasPagela?e.jsx(N,{sx:{fontSize:{xs:16,sm:20},color:s.palette.success.main}}):e.jsx(I,{sx:{fontSize:{xs:16,sm:20},color:s.palette.error.main}}),i.hasPagela&&i.totalPagelas&&e.jsx(a,{variant:"caption",display:"block",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"}},children:i.totalPagelas})]},`${i.year}-${i.week}`))}),e.jsxs(r,{sx:{mt:{xs:2,sm:3},display:"flex",gap:{xs:1.5,sm:2},justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(N,{sx:{color:s.palette.success.main,fontSize:{xs:16,sm:18}}}),e.jsx(a,{variant:"caption",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Com Pagela"})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(I,{sx:{color:s.palette.error.main,fontSize:{xs:16,sm:18}}}),e.jsx(a,{variant:"caption",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Sem Pagela"})]})]}),p.timelinePagination&&e.jsx(r,{sx:{mt:{xs:1.5,sm:2},px:{xs:0,sm:0}},children:e.jsx(G,{component:"div",count:p.timelinePagination.total,page:p.timelinePagination.page-1,onPageChange:(i,S)=>n(S+1),rowsPerPage:p.timelinePagination.limit,onRowsPerPageChange:i=>{v(parseInt(i.target.value,10)),n(1)},rowsPerPageOptions:[10,20,50,100],labelRowsPerPage:"Semanas por pÃ¡gina:",labelDisplayedRows:({from:i,to:S,count:z})=>`${i}-${S} de ${z!==-1?z:`mais de ${S}`}`,sx:{borderTop:1,borderColor:"divider","& .MuiTablePagination-toolbar":{flexWrap:"wrap",gap:1,px:{xs:0,sm:2}},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{fontSize:{xs:"0.75rem",sm:"0.875rem"}}}})})]})})]}),p.missingWeeks&&p.missingWeeks.length>0?e.jsxs(c,{elevation:0,sx:{mt:{xs:2,sm:3},borderRadius:3,background:`linear-gradient(135deg, ${s.palette.background.paper} 0%, ${s.palette.warning.main}03 100%)`,border:`2px solid ${s.palette.divider}`,overflow:"hidden"},children:[e.jsxs(r,{sx:{p:{xs:1.5,sm:2},display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",bgcolor:s.palette.grey[50],borderBottom:k?`1px solid ${s.palette.divider}`:"none"},onClick:()=>F(!k),children:[e.jsxs(a,{variant:"h6",fontWeight:"bold",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:["âš ï¸ Semanas Faltantes (",p.missingWeeksPagination?.total||p.missingWeeks.length,")"]}),e.jsx(O,{size:"small",children:k?e.jsx(te,{}):e.jsx(re,{})})]}),e.jsx(ie,{in:k,children:e.jsxs(r,{sx:{p:{xs:1.5,sm:2,md:3}},children:[e.jsx(r,{sx:{display:"flex",flexDirection:"column",gap:{xs:1,sm:1.5}},children:p.missingWeeks.map((i,S)=>e.jsx(r,{sx:{p:{xs:1.5,sm:2},borderRadius:2,bgcolor:`${Y(i.severity)}10`,border:`1px solid ${Y(i.severity)}40`},children:e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{xs:"wrap",sm:"nowrap"},gap:1},children:[e.jsxs(r,{sx:{flex:1,minWidth:0},children:[e.jsxs(a,{variant:"subtitle2",fontWeight:"bold",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Semana ",i.week," - ",w(i.expectedDate).format("DD/MM/YYYY")]}),e.jsxs(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:[w(i.weekRange.start).format("DD/MM")," atÃ©"," ",w(i.weekRange.end).format("DD/MM/YYYY")]})]}),e.jsx(W,{icon:l(i.severity),label:j(i.severity),size:"small",sx:{bgcolor:`${Y(i.severity)}20`,color:Y(i.severity),fontWeight:600,fontSize:{xs:"0.7rem",sm:"0.75rem"},height:{xs:24,sm:28}}})]})},S))}),p.missingWeeksPagination&&p.missingWeeksPagination.totalPages>1&&e.jsx(r,{sx:{mt:{xs:1.5,sm:2},px:{xs:0,sm:0}},children:e.jsx(G,{component:"div",count:p.missingWeeksPagination.total,page:p.missingWeeksPagination.page-1,onPageChange:(i,S)=>M(S+1),rowsPerPage:p.missingWeeksPagination.limit,rowsPerPageOptions:[],labelDisplayedRows:({from:i,to:S,count:z})=>`${i}-${S} de ${z!==-1?z:`mais de ${S}`}`,sx:{borderTop:1,borderColor:"divider","& .MuiTablePagination-toolbar":{flexWrap:"wrap",gap:1,px:{xs:0,sm:2}},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{fontSize:{xs:"0.75rem",sm:"0.875rem"}}}})})]})})]}):e.jsxs(c,{elevation:0,sx:{p:{xs:1.5,sm:2,md:3},mt:{xs:2,sm:3},borderRadius:3,border:`1px solid ${s.palette.divider}`,bgcolor:s.palette.success.main+"08"},children:[e.jsx(a,{variant:"h6",fontWeight:"bold",color:"success.main",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"âœ… Nenhuma Semana Faltante"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Este clubinho teve pagela em todas as semanas esperadas do perÃ­odo letivo."})]})]}):e.jsx(c,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(D,{})})}):e.jsx(c,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(a,{color:"text.secondary",children:"Selecione um clubinho para ver a frequÃªncia"})})]})},xs=()=>{const s=R(),t=ce(s.breakpoints.down("md")),{data:d}=Ae(),[x,b]=y.useState(d?.academicYear||null),[o,u]=y.useState(d?.academicWeek||null),[h,n]=y.useState(1),f=5,v=20,[C,M]=y.useState(t?f:v);y.useEffect(()=>{const l=t?f:v;C!==l&&(M(l),n(1))},[t,C]);const{data:m,isLoading:Q}=Ee({year:x||new Date().getFullYear(),week:o||1,page:h,limit:C});y.useEffect(()=>{d?.academicYear&&d?.academicWeek&&(x===null||o===null)&&(b(d.academicYear),u(d.academicWeek))},[d,x,o]);const k=l=>{switch(l){case"ok":return{icon:e.jsx(N,{}),color:s.palette.success.main,label:"OK",bgcolor:`${s.palette.success.main}20`};case"missing":return{icon:e.jsx(I,{}),color:s.palette.error.main,label:"Faltou",bgcolor:`${s.palette.error.main}20`};case"vacation":return{icon:e.jsx(ze,{}),color:s.palette.warning.main,label:"FÃ©rias",bgcolor:`${s.palette.warning.main}20`};case"inactive":return{icon:e.jsx(ke,{}),color:s.palette.grey[500],label:"Inativo",bgcolor:s.palette.grey[200]};default:return{icon:e.jsx(I,{}),color:s.palette.grey[500],label:"Desconhecido",bgcolor:s.palette.grey[200]}}},F={MONDAY:"Segunda",TUESDAY:"TerÃ§a",WEDNESDAY:"Quarta",THURSDAY:"Quinta",FRIDAY:"Sexta",SATURDAY:"SÃ¡bado",SUNDAY:"Domingo",monday:"Segunda",tuesday:"TerÃ§a",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"SÃ¡bado",sunday:"Domingo"},T=()=>{o!==null&&o>1?u(o-1):o===1&&x!==null&&(b(x-1),u(50)),n(1)},p=()=>{o!==null&&u(o+1),n(1)};if(y.useEffect(()=>{n(1)},[x,o]),Q)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(D,{})})});if(!m)return e.jsx(c,{elevation:3,sx:{p:3,borderRadius:3},children:e.jsx(a,{color:"error",children:"Erro ao carregar dados semanais"})});const A=m.clubs&&m.clubs.length>0,Y=x===d?.academicYear&&o===d?.academicWeek;return e.jsxs(r,{children:[e.jsx(c,{elevation:0,sx:{p:2,mb:3,borderRadius:2,border:`1px solid ${s.palette.divider}`},children:e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(ye,{sx:{color:s.palette.primary.main}}),e.jsxs(r,{children:[e.jsxs(a,{variant:"h6",fontWeight:"bold",children:["Semana ",o||m.week," do Ano Letivo ",x||m.year,Y&&e.jsx(W,{label:"ATUAL",size:"small",color:"primary",sx:{ml:1,fontWeight:"bold"}})]}),m.weekRange.start&&m.weekRange.end&&e.jsxs(a,{variant:"caption",color:"text.secondary",children:[w(m.weekRange.start).format("DD/MM")," - ",w(m.weekRange.end).format("DD/MM/YYYY")]})]})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(O,{size:"small",onClick:T,disabled:o===null||o<=1,children:e.jsx(ve,{})}),e.jsx(U,{select:!0,value:o||1,onChange:l=>u(Number(l.target.value)),size:"small",sx:{width:120},label:"Semana",children:Array.from({length:50},(l,j)=>j+1).map(l=>e.jsxs(E,{value:l,children:["Semana ",l]},l))}),e.jsx(U,{select:!0,value:x||new Date().getFullYear(),onChange:l=>b(Number(l.target.value)),size:"small",sx:{width:100},label:"Ano",children:[new Date().getFullYear(),new Date().getFullYear()-1,new Date().getFullYear()-2].map(l=>e.jsx(E,{value:l,children:l},l))}),e.jsx(O,{size:"small",onClick:p,children:e.jsx(Ce,{})})]})]})}),!A&&m.note&&e.jsxs(c,{elevation:0,sx:{p:3,mb:3,borderRadius:2,border:`2px solid ${s.palette.warning.main}`,bgcolor:s.palette.warning.main+"08"},children:[e.jsxs(a,{variant:"h6",fontWeight:"bold",color:"warning.main",gutterBottom:!0,children:["âš ï¸ ",m.note]}),m.period&&e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["PerÃ­odo letivo: ",w(m.period.startDate).format("DD/MM/YYYY")," atÃ© ",w(m.period.endDate).format("DD/MM/YYYY")]})]}),!A&&!m.note&&e.jsx(c,{elevation:0,sx:{p:3,mb:3,borderRadius:2,border:`1px solid ${s.palette.divider}`},children:e.jsx(a,{color:"text.secondary",children:"Nenhum clubinho encontrado para esta semana."})}),A&&e.jsxs(e.Fragment,{children:[e.jsxs(g,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(g,{item:!0,xs:12,sm:6,md:2.4,children:e.jsxs(c,{elevation:0,sx:{p:2,borderRadius:2,border:`2px solid ${s.palette.divider}`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",children:"Total de Clubinhos"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"primary",children:m.summary.totalClubs})]})}),e.jsx(g,{item:!0,xs:12,sm:6,md:2.4,children:e.jsxs(c,{elevation:0,sx:{p:2,borderRadius:2,border:`2px solid ${s.palette.divider}`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",children:"Com Pagela"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"success.main",children:m.summary.clubsWithPagela})]})}),e.jsx(g,{item:!0,xs:12,sm:6,md:2.4,children:e.jsxs(c,{elevation:0,sx:{p:2,borderRadius:2,border:`2px solid ${s.palette.divider}`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",children:"Faltaram"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"error.main",children:m.summary.clubsMissing})]})}),e.jsx(g,{item:!0,xs:12,sm:6,md:2.4,children:e.jsxs(c,{elevation:0,sx:{p:2,borderRadius:2,border:`2px solid ${s.palette.divider}`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",children:"Taxa de FrequÃªncia"}),e.jsxs(a,{variant:"h5",fontWeight:"bold",color:m.summary.attendanceRate>=80?"success.main":"warning.main",children:[m.summary.attendanceRate.toFixed(1),"%"]})]})}),e.jsx(g,{item:!0,xs:12,sm:6,md:2.4,children:e.jsxs(c,{elevation:0,sx:{p:2,borderRadius:2,border:`2px solid ${s.palette.divider}`},children:[e.jsx(a,{variant:"caption",color:"text.secondary",children:"Clubinhos Ativos"}),e.jsx(a,{variant:"h5",fontWeight:"bold",color:"info.main",children:m.summary.clubsActive})]})})]}),e.jsxs(c,{elevation:0,sx:{p:2,mb:3,borderRadius:2,background:`linear-gradient(135deg, ${s.palette.primary.main}08 0%, ${s.palette.success.main}08 100%)`,border:`1px solid ${s.palette.divider}`},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(a,{variant:"body2",fontWeight:600,children:"FrequÃªncia Geral da Semana"}),e.jsxs(a,{variant:"body2",fontWeight:"bold",color:"primary",children:[m.summary.clubsWithPagela," de ",m.summary.clubsActive," clubinhos"]})]}),e.jsx(V,{variant:"determinate",value:m.summary.attendanceRate,sx:{height:12,borderRadius:6,bgcolor:`${s.palette.error.main}20`,"& .MuiLinearProgress-bar":{borderRadius:6,background:`linear-gradient(90deg, ${s.palette.success.main} 0%, ${s.palette.primary.main} 100%)`}}})]}),t?e.jsx(ne,{spacing:1.5,children:m.clubs.map(l=>{const j=k(l.status);return e.jsx(Se,{elevation:1,sx:{borderRadius:1.5,border:`1.5px solid ${j.color}40`,bgcolor:j.bgcolor},children:e.jsx(we,{sx:{p:{xs:1,sm:2},"&:last-child":{pb:{xs:1,sm:2}}},children:e.jsxs(ne,{spacing:1,children:[e.jsx(r,{children:e.jsxs(a,{fontWeight:"bold",sx:{fontSize:{xs:"0.85rem",sm:"1.125rem"}},children:["Clubinho #",l.clubNumber]})}),e.jsx(We,{sx:{my:.5}}),e.jsxs(g,{container:!0,spacing:1,children:[e.jsx(g,{item:!0,xs:6,children:e.jsxs(r,{children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"}},children:"Dia da Semana"}),e.jsx(a,{variant:"body2",sx:{fontSize:{xs:"0.8rem",sm:"1rem"}},children:F[l.weekday]||l.weekday})]})}),e.jsx(g,{item:!0,xs:6,children:e.jsxs(r,{children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"}},children:"Data Esperada"}),e.jsx(a,{variant:"body2",sx:{fontSize:{xs:"0.8rem",sm:"1rem"}},children:w(l.expectedDate).format("DD/MM/YYYY")})]})})]}),e.jsxs(r,{sx:{display:"flex",gap:.75,flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",mt:.5},children:[e.jsxs(r,{children:[e.jsx(a,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"}},children:"Pagelas"}),e.jsx(r,{sx:{mt:.25},children:l.hasPagela?e.jsx(W,{label:l.totalPagelas||0,size:"small",color:"success",sx:{fontSize:{xs:"0.65rem",sm:"0.75rem"},height:{xs:20,sm:24},"& .MuiChip-label":{px:{xs:.75,sm:1}}}}):e.jsx(a,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.8rem",sm:"1rem"}},children:"-"})})]}),e.jsx(r,{children:e.jsx(W,{icon:j.icon,label:j.label,size:"small",sx:{bgcolor:j.bgcolor,color:j.color,border:`1px solid ${j.color}`,fontWeight:600,fontSize:{xs:"0.65rem",sm:"0.75rem"},height:{xs:20,sm:24},"& .MuiChip-icon":{fontSize:{xs:14,sm:16}},"& .MuiChip-label":{px:{xs:.75,sm:1}}}})})]})]})})},l.clubId)})}):e.jsx(Pe,{component:c,elevation:0,sx:{borderRadius:2,border:`2px solid ${s.palette.divider}`},children:e.jsxs(Te,{children:[e.jsx(Re,{children:e.jsxs(oe,{sx:{bgcolor:"primary.main"},children:[e.jsx(P,{sx:{color:"white",fontWeight:"bold"},children:"Clubinho"}),e.jsx(P,{sx:{color:"white",fontWeight:"bold"},children:"Dia da Semana"}),e.jsx(P,{sx:{color:"white",fontWeight:"bold"},children:"Data Esperada"}),e.jsx(P,{sx:{color:"white",fontWeight:"bold"},align:"center",children:"Pagelas"}),e.jsx(P,{sx:{color:"white",fontWeight:"bold"},align:"center",children:"Status"})]})}),e.jsx($e,{children:m.clubs.map(l=>{const j=k(l.status);return e.jsxs(oe,{hover:!0,sx:{bgcolor:j.bgcolor},children:[e.jsx(P,{children:e.jsxs(a,{fontWeight:"bold",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:["Clubinho #",l.clubNumber]})}),e.jsx(P,{sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:F[l.weekday]||l.weekday}),e.jsx(P,{sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:w(l.expectedDate).format("DD/MM/YYYY")}),e.jsx(P,{align:"center",children:l.hasPagela?e.jsx(W,{label:l.totalPagelas||0,size:"small",color:"success"}):e.jsx(a,{variant:"body2",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"-"})}),e.jsx(P,{align:"center",children:e.jsx(W,{icon:j.icon,label:j.label,size:"small",sx:{bgcolor:j.bgcolor,color:j.color,border:`1px solid ${j.color}`,fontWeight:600}})})]},l.clubId)})})]})}),m.pagination&&e.jsx(r,{sx:{px:{xs:1,sm:0},mt:2},children:e.jsx(G,{component:"div",count:m.pagination.total,page:m.pagination.page-1,onPageChange:(l,j)=>n(j+1),rowsPerPage:m.pagination.limit,onRowsPerPageChange:l=>{M(parseInt(l.target.value,10)),n(1)},rowsPerPageOptions:t?[5,10,20]:[10,20,50,100],labelRowsPerPage:"Clubinhos por pÃ¡gina:",labelDisplayedRows:({from:l,to:j,count:L})=>`${l}-${j} de ${L!==-1?L:`mais de ${j}`}`,sx:{"& .MuiTablePagination-toolbar":{flexWrap:"wrap",gap:1,px:{xs:0,sm:2}},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{fontSize:{xs:"0.75rem",sm:"0.875rem"}}}})})]})]})};export{os as AcceptedChristsChart,Is as ActivitiesComparisonChart,Ts as AdvancedPagelasChart,Ls as ChildrenListView,cs as ClubAttendanceTimeline,Rs as ClubPerformanceChart,Ss as ClubRankings,Bs as ClubsListView,fs as DemographicCharts,Ys as EnhancedDecisionsChart,vs as GeographicChart,is as OverviewCards,ls as OverviewSummaryCards,ns as PagelasTimeSeriesChart,Gs as PeriodFilter,hs as QuickFilters,zs as RadarComparisonChart,As as RetentionFunnelChart,us as StatisticsFiltersComponent,ds as TeacherPerformanceChart,Os as TeachersListView,Ws as TopEngagedChildren,$s as WeekMonthSummary,xs as WeeklyAttendanceGrid,gs as YearSelector,bs as useYearSelection};
